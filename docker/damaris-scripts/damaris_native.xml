<?xml version="1.0"?>
<simulation name="opm-flow" language="c" xmlns="http://damaris.gforge.inria.fr/damaris/model">
    <architecture>
        <domains count="1" />
        <dedicated cores="1" nodes="0" />
        <buffer name="buffer" size="536870912" />
        <placement />
        <queue name="queue" size="300" />
    </architecture>
    
    <data>
        <parameter name="n_elements_total" type="int" value="1" />
        <parameter name="n_elements_local" type="int" value="1" />
        <parameter name="n" type="int" value="1" />

        <layout name="zonal_layout_usmesh_integer" type="int" dimensions="n_elements_local"
            global="n_elements_total" comment="For the field data e.g. Pressure" />
        <variable name="GLOBAL_CELL_INDEX" layout="zonal_layout_usmesh_integer" type="scalar"
            visualizable="false" time-varying="false" store="MyPyAction" centering="zonal" />
        <layout name="zonal_layout_usmesh" type="double" dimensions="n_elements_local"
            global="n_elements_total" comment="For the field data e.g. Pressure" />
        <variable name="PRESSURE" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="unstructured_mesh" unit="Bar" centering="zonal" time-varying="true"
            select-file="GLOBAL_CELL_INDEX" store="MyPyAction" script="MyPyAction" />


        <variable name="MPI_RANK" layout="zonal_layout_usmesh_integer" type="scalar"
            visualizable="true" mesh="unstructured_mesh" unit="rank" centering="zonal"
            select-file="GLOBAL_CELL_INDEX" store="#" time-varying="false" script="#"
            comment="The cells MPI rank" />

        <variable name="KRNSW_GO" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="unstructured_mesh" unit="" centering="zonal" time-varying="true"
            select-file="GLOBAL_CELL_INDEX" store="#" script="#" />
        <variable name="KRNSW_OW" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="PCSWM_GO" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="PCSWM_OW" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="PPCW" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="Bar" centering="zonal" time-varying="true"
            select-file="GLOBAL_CELL_INDEX" store="#" script="#" />
        <variable name="RS" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="Bar" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" comment="Dissolved Gas units Gas Oil Ratio" />
        <variable name="RV" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="Bar" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="SOMAX" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="1OVERBG" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="1OVERBO" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="1OVERBW" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GASKR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GAS_DEN" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GAS_VISC" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OILKR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OIL_DEN" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OIL_VISC" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WATKR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WAT_DEN" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WAT_VISC" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />


        <variable name="2FBF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="4FBF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="DFBF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GCDI" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GCDM" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GIP" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="GIPG" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GIPL" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="GIPR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="HTOF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OIP" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="OIPG" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OIPL" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="OIPR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="RPV" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="S36F" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="SEAF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="SGAS" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="SIP" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="SWAT" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="TFBF" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WCD" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="WIP" layout="zonal_layout_usmesh" type="scalar" visualizable="true" mesh="#"
            unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX" store="#"
            script="#" />
        <variable name="WIPG" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WIPL" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />
        <variable name="WIPR" layout="zonal_layout_usmesh" type="scalar" visualizable="true"
            mesh="#" unit="" centering="zonal" time-varying="true" select-file="GLOBAL_CELL_INDEX"
            store="#" script="#" />


        <parameter name="n_coords_local" type="int" value="1" />
        <layout name="n_coords_layout" type="double" dimensions="n_coords_local"
            comment="For the individual x, y and z coordinates of the mesh vertices, these values are referenced in the topologies/topo/subelements/connectivity_pg data" />
        <group name="coordset/coords/values">
            <variable name="x" layout="n_coords_layout" type="scalar" visualizable="false" unit="m"
                script="#" time-varying="false" />
            <variable name="y" layout="n_coords_layout" type="scalar" visualizable="false" unit="m"
                script="#" time-varying="false" />
            <variable name="z" layout="n_coords_layout" type="scalar" visualizable="false" unit="m"
                script="#" time-varying="false" />
        </group>


        <parameter name="n_connectivity_ph" type="int" value="1" />
        <layout name="n_connections_layout_ph" type="int" dimensions="n_connectivity_ph"
            comment="Layout for connectivities " />
        <parameter name="n_offsets_types_ph" type="int" value="1" />
        <layout name="n_offsets_layout_ph" type="int" dimensions="n_offsets_types_ph+1"
            comment="Layout for the offsets_ph" />
        <layout name="n_types_layout_ph" type="char" dimensions="n_offsets_types_ph"
            comment="Layout for the types_ph " />
        <group name="topologies/topo/elements">
            <variable name="connectivity" layout="n_connections_layout_ph" type="scalar"
                visualizable="false" script="#" time-varying="false" />
            <variable name="offsets" layout="n_offsets_layout_ph" type="scalar" visualizable="false"
                script="#" time-varying="false" />
            <variable name="types" layout="n_types_layout_ph" type="scalar" visualizable="false"
                script="#" time-varying="false" />
        </group>


        <mesh name="unstructured_mesh" type="unstructured" topology="3" time-varying="false"
            comment="This Mesh definition is for connection with Paraview.
                      This definition references the variables that define an unstructured mesh specified above.">
            <coord name="coordset/coords/values/x" unit="m" />
            <coord name="coordset/coords/values/y" unit="m" />
            <coord name="coordset/coords/values/z" unit="m" />
            <vertex_global_id name="#" offset="0" />
            <element_offsets name="topologies/topo/elements/offsets" />
            <section_types name="topologies/topo/elements/types" />
            <section_sizes name="#" />
            <section_connectivity name="topologies/topo/elements/connectivity" />
            <polyhedral_cell_faces_connectivity name="#" />
            <polyhedral_cell_faces_offsets name="#" />
            <polyhedral_n_faces_per_cell name="#" />
        </mesh>

    </data>



    <scripts>
        <pyscript name="MyPyAction" file="PUBLISH_DATA_SCRIPT" language="python" timeout='60'
            frequency="1" scheduler-file="DASKFILE" nthreads="0" keep-workers="no" />
    </scripts>

    <!-- paraview update-frequency="1" write-vtk="0" write-vtk-binary="false">
        <script></script>
</paraview -->

    <actions>
</actions>

    <log FileName="./damaris_log/opm-flow" RotationSize="5" LogFormat="[%TimeStamp%]: %Message%"
        Flush="true" LogLevel="debug" />

</simulation>